{% extends "new_base.html" %}
{% load static %}
{% load i18n %}
{% load l10n %}
{% load cache %}

{% block content %}

  <div class="login-section">
    {% include "login_partial.html" %}
  </div>

  <div class="carousel-section">
    {% include "partner_carousel.html" %}
  </div>

{% endblock content %}


{% block javascript %}
  <script type="text/javascript" language="javascript" src="{% static "js/glider.min.js" %}"></script>
  {% if LANGUAGE_BIDI %}
    <script type="text/javascript">
      $(function () {
        $('[data-toggle="tooltip"]').tooltip()
      })
      window.addEventListener('load', function(){
        new Glider(document.querySelector('.glider'), {
          slidesToShow: 3.5,
          arrows: {
            prev: '.partner-glider-next',
            next: '.partner-glider-prev'
          },
          draggable: true,
          responsive: [
            {
              breakpoint: 768,
              settings: {
                slidesToShow: 2.5,
                slidesToScroll: 2
              }
            },
            {
              breakpoint: 320,
              settings: {
                slidesToShow: 1.5,
                slidesToScroll: 1
              }
            }
          ]
        })
      })
    </script>
  {% else %}
    <script type="text/javascript">
      $(function () {
        $('[data-toggle="tooltip"]').tooltip()
      })
      window.addEventListener('load', function(){
        new Glider(document.querySelector('.glider'), {
          slidesToShow: 3.5,
          arrows: {
            prev: '.partner-glider-prev',
            next: '.partner-glider-next'
          },
          draggable: true,
          responsive: [
            {
              breakpoint: 768,
              settings: {
                slidesToShow: 2.5,
                slidesToScroll: 2
              }
            },
            {
              breakpoint: 320,
              settings: {
                slidesToShow: 1.5,
                slidesToScroll: 1
              }
            }
          ]
        })
      })
    </script>
  {% endif %}
  <script type="text/javascript">
    function toggleDescription(partnerId) {
      var partnerImage = document.getElementById("partner-image-" + partnerId);
      partnerImage.classList.toggle("invisible");
      partnerImage.classList.toggle("fade-in-transition");

      var partnerDescription = document.getElementById("partner-description-" + partnerId);
      partnerDescription.classList.toggle("invisible");
      partnerDescription.classList.toggle("fade-in-transition");

      var partnerLink = document.getElementById("partner-link-" + partnerId);
      partnerLink.classList.toggle("invisible");
      partnerLink.classList.toggle("fade-in-transition");

      var partnerButton = document.getElementById("partner-button-" + partnerId);
      // If the invisible class exists in the partner image, then the button
      // needs to show "Less info"
      if (partnerImage.classList.contains("invisible")) {
        partnerButton.innerHTML = "Less info";
      } else {
        partnerButton.innerHTML = "More info";
      }

    }
  </script>
{% endblock javascript %}
